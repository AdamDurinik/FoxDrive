/* reset */
*{box-sizing:border-box} html,body{margin:0;height:100%}
:root{
  --bg:#0b0f14; --panel:#0f1624; --muted:#8aa0b6; --text:#e7eef7;
  --accent:#5cc8ff; --accent-2:#7c5cff; --danger:#ff6b6b; --border:#223045;
}

body{
  font:14px/1.45 system-ui, Segoe UI, Roboto, Arial, sans-serif; color:var(--text);
  background:
    radial-gradient(1200px 500px at 20% -10%, #19304855, transparent 60%),
    radial-gradient(1200px 500px at 80% -10%, #28194855, transparent 60%),
    var(--bg);
}

/* header (clean bar) */
header{
  position:sticky; top:0; z-index:10;
  backdrop-filter: blur(8px);
  background: linear-gradient(180deg, rgba(11,15,20,.92), rgba(11,15,20,.80));
  border-bottom:1px solid var(--border);
  padding:10px 16px; display:flex; align-items:center; gap:12px;
}
header img{height:24px}
.badge{background:linear-gradient(90deg,var(--accent),var(--accent-2)); color:#001018; padding:2px 8px; border-radius:999px; font-weight:700; font-size:12px}
.btn{
  border:1px solid var(--border); background:#0e1623; color:var(--text);
  padding:8px 12px; border-radius:10px; cursor:pointer;
  transition:transform .08s ease, border-color .2s ease, background .2s ease; text-decoration:none; display:inline-block;
}
.btn:hover{transform:translateY(-1px); border-color:#33507a}
.btn.primary{background:linear-gradient(180deg,#16263c,#0f1b2e); border-color:#2d4d7a}
.btn.danger{border-color:#7a3333}

main{max-width:1300px; margin:16px auto; padding:0 16px 60px}

/* left rail like OneDrive */
.layout{display:grid; grid-template-columns:240px 1fr; gap:16px}
@media (max-width: 980px){ .layout{grid-template-columns:1fr} }
aside#left{
  border:1px solid var(--border); border-radius:14px; padding:12px;
  background:linear-gradient(180deg,#101a2b,#0c1320);
  position:sticky; top:66px; max-height:calc(100vh - 86px); overflow:auto;
}
aside#left h3{margin:4px 0 10px; font-size:13px; color:var(--muted); letter-spacing:.2px}
.favs{display:flex; flex-direction:column; gap:6px}
.fav{display:flex; gap:8px; align-items:center; padding:6px 8px; border-radius:8px; cursor:pointer}
.fav:hover{background:#0f1c2f}

/* breadcrumbs + dropzone */
#breadcrumbs{display:flex; gap:8px; flex-wrap:wrap; margin:0 0 10px}
#dropzone{
  outline:2px dashed #33507a; outline-offset:-8px; padding:14px; border-radius:12px;
  text-align:center; background:rgba(0,0,0,.08); user-select:none;
  transition:background .15s ease, outline-color .15s ease, transform .15s ease; margin-bottom:14px
}
#dropzone.drag{background:#0e1a2b; outline-color:var(--accent); transform:scale(1.01)}

/* grid tiles (folder/file) */
.grid{display:grid; grid-template-columns:repeat(auto-fill,minmax(180px,1fr)); gap:16px}
.card{
  background:linear-gradient(180deg,#101a2b,#0c1320);
  border:1px solid var(--border); border-radius:14px; padding:12px;
  display:grid; grid-template-rows:100px auto auto; gap:8px;
  box-shadow:0 10px 30px #00000040, inset 0 1px 0 #ffffff10;
  transition:transform .12s ease, border-color .2s ease, background .2s ease;
  position:relative; animation:fadeIn .2s ease;
}
.card:hover{transform:translateY(-2px); border-color:#3a5e92; background:#111b2d}
.card.drag-target{outline:2px dashed var(--accent); outline-offset:-6px}

/* tile image/icon area */
.thumb{
  border-radius:10px; background:#0b1422; overflow:hidden; display:grid; place-items:center;
}
.thumb img{width:100%; height:100%; object-fit:cover}
.thumb .folder{
  width:72px; height:auto; filter: drop-shadow(0 4px 6px rgba(0,0,0,.35));
}

/* title with 2-line clamp (and fallback) */
.title{
  font-weight:600; overflow:hidden;
  display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical;
  line-height:1.25em; max-height:2.5em;  /* fallback clamp */
}
.meta{color:var(--muted); font-size:12px}

/* context menu */
.ctx{position:absolute; z-index:1000; display:none; min-width:170px;
  background:#0f1624; border:1px solid var(--border); border-radius:10px; box-shadow:0 10px 30px #00000066}
.ctx.show{display:block}
.ctx button,.ctx a{width:100%; text-align:left; padding:8px 12px; border:none; background:transparent; color:var(--text); cursor:pointer; display:block; text-decoration:none}
.ctx button:hover,.ctx a:hover{background:#0f1c2f}

.modal{position:fixed;inset:0;background:rgba(0,0,0,.55);display:none;align-items:center;justify-content:center;padding:24px;z-index:2000}
.modal.show{display:flex}
.modal .box{width:min(460px,95vw);background:#0b1422;border:1px solid var(--border);border-radius:14px;box-shadow:0 20px 60px #000000aa;overflow:hidden}


/* fade */
@keyframes fadeIn{from{opacity:.0; transform:translateY(6px)} to{opacity:1; transform:none}}
